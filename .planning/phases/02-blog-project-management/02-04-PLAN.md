---
phase: 02-blog-project-management
plan: 04
type: execute
wave: 3
depends_on: ["02-02"]
files_modified:
  - src/routes/_authed/projects/$id.tsx
  - src/routeTree.gen.ts
autonomous: true

must_haves:
  truths:
    - "Navigating to /projects/:id shows the project detail page with project name, URL, and metadata"
    - "User can edit the project from the detail page via edit dialog"
    - "User can delete the project from the detail page and gets redirected to dashboard"
    - "Detail page shows placeholder sections for Articles and Pins (coming in future phases)"
  artifacts:
    - path: "src/routes/_authed/projects/$id.tsx"
      provides: "Project detail page route"
      contains: "useBlogProject"
  key_links:
    - from: "src/routes/_authed/projects/$id.tsx"
      to: "src/lib/hooks/use-blog-projects.ts"
      via: "useBlogProject hook for single project fetch"
      pattern: "useBlogProject"
    - from: "src/components/dashboard/project-card.tsx"
      to: "src/routes/_authed/projects/$id.tsx"
      via: "Link navigation from card click"
      pattern: "/projects/.*id"
---

<objective>
Create the project detail page at `/projects/:id` showing project metadata, edit/delete actions, and placeholder sections for Articles and Pins (future phases).

Purpose: Users need a dedicated page per project to view details, edit settings, and eventually manage articles and pins. This route completes the navigation flow from dashboard card click.
Output: Project detail route with metadata display, edit/delete actions, and future-phase placeholders.
</objective>

<execution_context>
@/Users/cweissteiner/.claude/get-shit-done/workflows/execute-plan.md
@/Users/cweissteiner/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-blog-project-management/02-CONTEXT.md
@src/routes/_authed/dashboard.tsx
@src/components/layout/header.tsx
@src/lib/auth.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project detail page with metadata, actions, and placeholders</name>
  <files>
    src/routes/_authed/projects/$id.tsx
  </files>
  <action>
    Create `src/routes/_authed/projects/$id.tsx` as a TanStack Router file route:

    1. Route setup:
       - Use `createFileRoute('/_authed/projects/$id')` — this matches `/projects/:id` under the `_authed` layout
       - The route is automatically protected by the `_authed` layout's beforeLoad auth guard
       - Access route params via `Route.useParams()` to get `id`

    2. Data fetching:
       - Use `useBlogProject(id)` hook to fetch the single project
       - Handle loading state (skeleton or spinner)
       - Handle error state (project not found or fetch error — show message with "Back to Dashboard" link)

    3. Page layout:
       - Header component (existing, get user from `Route.useRouteContext()`)
       - Back navigation: "Back to Dashboard" link using `<Link to="/dashboard">`
       - Project header section:
         - Project name (large heading)
         - Blog URL (clickable external link with ExternalLink icon from lucide-react)
         - Created date (formatted)
         - RSS URL (if set, otherwise "Not configured")
         - Scraping frequency badge (daily/weekly/manual)
       - Action buttons: "Edit Project" (opens edit dialog) and "Delete Project" (opens delete dialog)
       - Placeholder sections (Card components):
         - "Articles" card with "Articles will appear here once blog scraping is set up" message and a muted icon
         - "Pins" card with "Pins will appear here once you start creating content" message and a muted icon
       - Render ProjectDialog (edit mode) and DeleteDialog components

    4. Delete behavior:
       - On successful delete, navigate to `/dashboard` using `useNavigate()` from TanStack Router
       - Override the DeleteDialog's default behavior by passing an onSuccess callback

    5. After creating the file, run the TanStack Router CLI to regenerate the route tree:
       ```bash
       npx @tanstack/router-cli generate
       ```
  </action>
  <verify>
    - `src/routes/_authed/projects/$id.tsx` exists and exports a valid route
    - Route tree regenerated (check `src/routeTree.gen.ts` contains `projects/$id` reference)
    - Page uses `useBlogProject` hook for data fetching
    - Page renders project metadata, edit/delete actions, and placeholder sections
    - `npm run build` passes
  </verify>
  <done>Project detail page displays project metadata, provides edit/delete actions, and shows placeholder sections for future Articles and Pins content. Navigating from dashboard card click lands on the correct project page.</done>
</task>

</tasks>

<verification>
- Navigate to `/projects/:id` — project detail page renders with correct data
- Edit button opens dialog pre-filled with project data; saving updates the page
- Delete button shows confirm dialog; confirming deletes and redirects to dashboard
- "Back to Dashboard" link works
- Blog URL is clickable external link
- Articles and Pins placeholder sections visible
- Route is protected (unauthenticated users redirected to login)
- Build passes
</verification>

<success_criteria>
- Project detail page accessible via /projects/:id
- All project metadata displayed (name, URL, RSS URL, frequency, dates)
- Edit and delete actions functional from detail page
- Delete redirects to dashboard
- Placeholder sections communicate future functionality
- Route protected by _authed layout guard
</success_criteria>

<output>
After completion, create `.planning/phases/02-blog-project-management/02-04-SUMMARY.md`
</output>
